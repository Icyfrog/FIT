webpackJsonp([1],{JKtu:function(t,e){},Kffh:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o=n("mtWM"),l=n.n(o),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},r,!1,function(t){n("Kffh")},null,null).exports,s=n("/ocq"),c=(n("Ya8g"),l.a.create({baseURL:"http://localhost:9989",headers:{"Content-type":"application/json"}})),u={data:function(){return{id:"",password:""}},methods:{login:function(){var t=this;""!=this.id&&""!=this.password||alert("ID或密码为空");var e={id:this.id,pwd:this.password};c.post("/admin/login",e).then(function(e){console.log(e.data),sessionStorage.removeItem("login"),"102"==e.data?alert("登录失败，ID或密码错误"):"101"==e.data?alert("登录失败，ID不存在"):"100"==e.data&&(alert("登录成功"),sessionStorage.setItem("login",e.data),t.$router.replace("/ManageUser"))}).finally(function(){t.loading=!1}).catch(function(t){console.log(t)})}}},d={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-box",attrs:{align:"center"}},[n("h1",[t._v("FIT 丑不拉几的管理员")]),t._v(" "),n("el-container",[n("el-aside",{attrs:{width:"560px"}}),t._v(" "),n("el-container",[n("el-header"),t._v(" "),n("el-main",[n("el-row",[n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{placeholder:"请输入帐号"},model:{value:t.id,callback:function(e){t.id=e},expression:"id"}},[n("template",{slot:"prepend"},[t._v("帐号")])],2)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{type:"password",placeholder:"请输入密码"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}},[n("template",{slot:"prepend"},[t._v("密码")])],2)],1)],1),t._v(" "),n("el-row",[n("el-col",{attrs:{span:10}},[n("el-button",{staticStyle:{width:"100%"},attrs:{id:"login",type:"primary"},on:{click:t.login}},[t._v("登录")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var p=n("VU/8")(u,d,!1,function(t){n("NYfc")},null,null).exports,f={data:function(){return{tableData:[],search:""}},mounted:function(){var t=this;null==JSON.parse(sessionStorage.getItem("login"))&&(alert("尚未登录"),this.$router.replace("/")),c.post("/admin/getAll").then(function(e){t.tableData=e.data,console.log(e.data)}).finally(function(){t.loading=!1}).catch(function(t){console.log(t)})},methods:{setLock:function(t,e){var n=e.tel;c.post("/admin/ban",n).then(function(t){console.log(t.data),t.data?console.log("封禁成功"):console.log("封禁失败"),location.reload()}).catch(function(t){console.log(t)})},setUnlock:function(t,e){var n=e.tel;c.post("/admin/relieve",n).then(function(t){console.log(t.data),t.data?console.log("解禁成功"):console.log("解禁失败"),location.reload()}).catch(function(t){console.log(t)})}}},h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-container",[n("el-container",[n("el-aside",{attrs:{width:"150px"}}),t._v(" "),n("el-main",[n("el-table",{staticClass:"booktable",staticStyle:{width:"100%"},attrs:{data:t.tableData.filter(function(e){return!t.search||e.email.toLowerCase().includes(t.search.toLowerCase())})}},[n("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"tel",label:"Telephone number",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"nickName",label:"nick name",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"isactive",label:"if active",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{align:"right"},scopedSlots:t._u([{key:"header",fn:function(t){}},{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"danger",size:"medium"},on:{click:function(n){return t.setLock(e.$index,e.row)}}},[t._v("封禁用户")]),t._v(" "),n("el-button",{attrs:{size:"medium",type:"primary"},on:{click:function(n){return t.setUnlock(e.$index,e.row)}}},[t._v("解禁用户")])]}}])})],1)],1)],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(f,h,!1,function(t){n("JKtu")},null,null).exports;a.default.use(s.a);var m=new s.a({routes:[{path:"/",name:"Login",component:p},{path:"/ManageUser",name:"ManageUser",component:v}]}),g=n("zL8q"),w=n.n(g);n("tvR6");a.default.config.productionTip=!1,a.default.prototype.$axios=l.a,a.default.use(w.a),new a.default({el:"#app",router:m,components:{App:i},template:"<App/>"})},NYfc:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.1782c26ab3e5b52cce9d.js.map